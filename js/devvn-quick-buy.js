!function(b){"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof exports?b(require("jquery")):b(window.jQuery||window.Zepto)}(function(b){function A(){}function C(c,e){a.ev.on(q+c+n,e)}function x(c,e,f,h){var p=document.createElement("div");return p.className="mfp-"+c,f&&(p.innerHTML=f),h?e&&e.appendChild(p):(p=b(p),e&&p.appendTo(e)),p}function u(c,e){a.ev.triggerHandler(q+c,e);a.st.callbacks&&(c=c.charAt(0).toLowerCase()+c.slice(1),a.st.callbacks[c]&&a.st.callbacks[c].apply(a,
b.isArray(e)?e:[e]))}function G(c){return c===k&&a.currTemplate.closeBtn||(a.currTemplate.closeBtn=b(a.st.closeMarkup.replace("%title%",a.st.tClose)),k=c),a.currTemplate.closeBtn}function H(){b.magnificPopup.instance||((a=new A).init(),b.magnificPopup.instance=a)}function D(){y&&(w.after(y.addClass(v)).detach(),y=null)}var a,E,d,g,l,k,q="mfp",n="."+q,m=!!window.jQuery,t=b(window);A.prototype={constructor:A,init:function(){var c=navigator.appVersion;a.isLowIE=a.isIE8=document.all&&!document.addEventListener;
a.isAndroid=/android/gi.test(c);a.isIOS=/iphone|ipad|ipod/gi.test(c);a.supportsTransition=function(){var e=document.createElement("p").style,f=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;f.length;)if(f.pop()+"Transition"in e)return!0;return!1}();a.probablyMobile=a.isAndroid||a.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent);d=b(document);a.popupsCache={}},open:function(c){var e;if(!1===c.isObj){a.items=c.items.toArray();
a.index=0;var f,h=c.items;for(e=0;e<h.length;e++)if((f=h[e]).parsed&&(f=f.el[0]),f===c.el[0]){a.index=e;break}}else a.items=b.isArray(c.items)?c.items:[c.items],a.index=c.index||0;if(!a.isOpen){a.types=[];l="";c.mainEl&&c.mainEl.length?a.ev=c.mainEl.eq(0):a.ev=d;c.key?(a.popupsCache[c.key]||(a.popupsCache[c.key]={}),a.currTemplate=a.popupsCache[c.key]):a.currTemplate={};a.st=b.extend(!0,{},b.magnificPopup.defaults,c);a.fixedContentPos="auto"===a.st.fixedContentPos?!a.probablyMobile:a.st.fixedContentPos;
a.st.modal&&(a.st.closeOnContentClick=!1,a.st.closeOnBgClick=!1,a.st.showCloseBtn=!1,a.st.enableEscapeKey=!1);a.bgOverlay||(a.bgOverlay=x("bg").on("click"+n,function(){a.close()}),a.wrap=x("wrap").attr("tabindex",-1).on("click"+n,function(p){a._checkIfClose(p.target)&&a.close()}),a.container=x("container",a.wrap));a.contentContainer=x("content");a.st.preloader&&(a.preloader=x("preloader",a.container,a.st.tLoading));f=b.magnificPopup.modules;for(e=0;e<f.length;e++)h=f[e],h=h.charAt(0).toUpperCase()+
h.slice(1),a["init"+h].call(a);u("BeforeOpen");a.st.showCloseBtn&&(a.st.closeBtnInside?(C("MarkupParse",function(p,r,z,B){z.close_replaceWith=G(B.type)}),l+=" mfp-close-btn-in"):a.wrap.append(G()));a.st.alignTop&&(l+=" mfp-align-top");a.fixedContentPos?a.wrap.css({overflow:a.st.overflowY,overflowX:"hidden",overflowY:a.st.overflowY}):a.wrap.css({top:t.scrollTop(),position:"absolute"});!1!==a.st.fixedBgPos&&("auto"!==a.st.fixedBgPos||a.fixedContentPos)||a.bgOverlay.css({height:d.height(),position:"absolute"});
a.st.enableEscapeKey&&d.on("keyup"+n,function(p){27===p.keyCode&&a.close()});t.on("resize"+n,function(){a.updateSize()});a.st.closeOnContentClick||(l+=" mfp-auto-cursor");l&&a.wrap.addClass(l);e=a.wH=t.height();f={};a.fixedContentPos&&a._hasScrollBar(e)&&(h=a._getScrollbarSize())&&(f.marginRight=h);a.fixedContentPos&&(a.isIE7?b("body, html").css("overflow","hidden"):f.overflow="hidden");h=a.st.mainClass;return a.isIE7&&(h+=" mfp-ie7"),h&&a._addClassToMFP(h),a.updateItemHTML(),u("BuildControls"),b("html").css(f),
a.bgOverlay.add(a.wrap).prependTo(a.st.prependTo||b(document.body)),a._lastFocusedEl=document.activeElement,setTimeout(function(){a.content?(a._addClassToMFP("mfp-ready"),a._setFocus()):a.bgOverlay.addClass("mfp-ready");d.on("focusin"+n,a._onFocusIn)},16),a.isOpen=!0,a.updateSize(e),u("Open"),c}a.updateItemHTML()},close:function(){a.isOpen&&(u("BeforeClose"),a.isOpen=!1,a.st.removalDelay&&!a.isLowIE&&a.supportsTransition?(a._addClassToMFP("mfp-removing"),setTimeout(function(){a._close()},a.st.removalDelay)):
a._close())},_close:function(){u("Close");var c="mfp-removing mfp-ready ";if(a.bgOverlay.detach(),a.wrap.detach(),a.container.empty(),a.st.mainClass&&(c+=a.st.mainClass+" "),a._removeClassFromMFP(c),a.fixedContentPos)c={marginRight:""},a.isIE7?b("body, html").css("overflow",""):c.overflow="",b("html").css(c);d.off("keyup.mfp focusin"+n);a.ev.off(n);a.wrap.attr("class","mfp-wrap").removeAttr("style");a.bgOverlay.attr("class","mfp-bg");a.container.attr("class","mfp-container");!a.st.showCloseBtn||a.st.closeBtnInside&&
!0!==a.currTemplate[a.currItem.type]||!a.currTemplate.closeBtn||a.currTemplate.closeBtn.detach();a.st.autoFocusLast&&a._lastFocusedEl&&b(a._lastFocusedEl).focus();a.currItem=null;a.content=null;a.currTemplate=null;a.prevHeight=0;u("AfterClose")},updateSize:function(c){a.isIOS?(c=document.documentElement.clientWidth/window.innerWidth*window.innerHeight,a.wrap.css("height",c),a.wH=c):a.wH=c||t.height();a.fixedContentPos||a.wrap.css("height",a.wH);u("Resize")},updateItemHTML:function(){var c=a.items[a.index];
a.contentContainer.detach();a.content&&a.content.detach();c.parsed||(c=a.parseEl(a.index));var e=c.type;if(u("BeforeChange",[a.currItem?a.currItem.type:"",e]),a.currItem=c,!a.currTemplate[e]){var f=!!a.st[e]&&a.st[e].markup;u("FirstMarkupParse",f);a.currTemplate[e]=!f||b(f)}g&&g!==c.type&&a.container.removeClass("mfp-"+g+"-holder");f=a["get"+e.charAt(0).toUpperCase()+e.slice(1)](c,a.currTemplate[e]);a.appendContent(f,e);c.preloaded=!0;u("Change",c);g=c.type;a.container.prepend(a.contentContainer);
u("AfterChange")},appendContent:function(c,e){(a.content=c)?a.st.showCloseBtn&&a.st.closeBtnInside&&!0===a.currTemplate[e]?a.content.find(".mfp-close").length||a.content.append(G()):a.content=c:a.content="";u("BeforeAppend");a.container.addClass("mfp-"+e+"-holder");a.contentContainer.append(a.content)},parseEl:function(c){var e,f=a.items[c];if((f=f.tagName?{el:b(f)}:(e=f.type,{data:f,src:f.src})).el){for(var h=a.types,p=0;p<h.length;p++)if(f.el.hasClass("mfp-"+h[p])){e=h[p];break}f.src=f.el.attr("data-mfp-src");
f.src||(f.src=f.el.attr("href"))}return f.type=e||a.st.type||"inline",f.index=c,f.parsed=!0,a.items[c]=f,u("ElementParse",f),a.items[c]},addGroup:function(c,e){function f(h){h.mfpEl=this;a._openClick(h,c,e)}(e=e||{}).mainEl=c;e.items?(e.isObj=!0,c.off("click.magnificPopup").on("click.magnificPopup",f)):(e.isObj=!1,e.delegate?c.off("click.magnificPopup").on("click.magnificPopup",e.delegate,f):(e.items=c).off("click.magnificPopup").on("click.magnificPopup",f))},_openClick:function(c,e,f){if((void 0!==
f.midClick?f.midClick:b.magnificPopup.defaults.midClick)||!(2===c.which||c.ctrlKey||c.metaKey||c.altKey||c.shiftKey)){var h=void 0!==f.disableOn?f.disableOn:b.magnificPopup.defaults.disableOn;if(h)if(b.isFunction(h)){if(!h.call(a))return!0}else if(t.width()<h)return!0;c.type&&(c.preventDefault(),a.isOpen&&c.stopPropagation());f.el=b(c.mfpEl);f.delegate&&(f.items=e.find(f.delegate));a.open(f)}},updateStatus:function(c,e){if(a.preloader){E!==c&&a.container.removeClass("mfp-s-"+E);e||"loading"!==c||
(e=a.st.tLoading);var f={status:c,text:e};u("UpdateStatus",f);c=f.status;e=f.text;a.preloader.html(e);a.preloader.find("a").on("click",function(h){h.stopImmediatePropagation()});a.container.addClass("mfp-s-"+c);E=c}},_checkIfClose:function(c){if(!b(c).hasClass("mfp-prevent-close")){var e=a.st.closeOnContentClick,f=a.st.closeOnBgClick;if(e&&f||!a.content||b(c).hasClass("mfp-close")||a.preloader&&c===a.preloader[0])return!0;if(c===a.content[0]||b.contains(a.content[0],c)){if(e)return!0}else if(f&&b.contains(document,
c))return!0;return!1}},_addClassToMFP:function(c){a.bgOverlay.addClass(c);a.wrap.addClass(c)},_removeClassFromMFP:function(c){this.bgOverlay.removeClass(c);a.wrap.removeClass(c)},_hasScrollBar:function(c){return(a.isIE7?d.height():document.body.scrollHeight)>(c||t.height())},_setFocus:function(){(a.st.focus?a.content.find(a.st.focus).eq(0):a.wrap).focus()},_onFocusIn:function(c){if(c.target!==a.wrap[0]&&!b.contains(a.wrap[0],c.target))return a._setFocus(),!1},_parseMarkup:function(c,e,f){var h;f.data&&
(e=b.extend(f.data,e));u("MarkupParse",[c,e,f]);b.each(e,function(p,r){if(void 0===r||!1===r)return!0;if(1<(h=p.split("_")).length){var z=c.find(n+"-"+h[0]);if(0<z.length){var B=h[1];"replaceWith"===B?z[0]!==r[0]&&z.replaceWith(r):"img"===B?z.is("img")?z.attr("src",r):z.replaceWith(b("<img>").attr("src",r).attr("class",z.attr("class"))):z.attr(h[1],r)}}else c.find(n+"-"+p).html(r)})},_getScrollbarSize:function(){if(void 0===a.scrollbarSize){var c=document.createElement("div");c.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;";
document.body.appendChild(c);a.scrollbarSize=c.offsetWidth-c.clientWidth;document.body.removeChild(c)}return a.scrollbarSize}};b.magnificPopup={instance:null,proto:A.prototype,modules:[],open:function(c,e){return H(),(c=c?b.extend(!0,{},c):{}).isObj=!0,c.index=e||0,this.instance.open(c)},close:function(){return b.magnificPopup.instance&&b.magnificPopup.instance.close()},registerModule:function(c,e){e.options&&(b.magnificPopup.defaults[c]=e.options);b.extend(this.proto,e.proto);this.modules.push(c)},
defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}};b.fn.magnificPopup=function(c){H();var e=b(this);if("string"==typeof c)if("open"===
c){var f=m?e.data("magnificPopup"):e[0].magnificPopup,h=parseInt(arguments[1],10)||0;var p=f.items?f.items[h]:(p=e,f.delegate&&(p=p.find(f.delegate)),p.eq(h));a._openClick({mfpEl:p},e,f)}else a.isOpen&&a[c].apply(a,Array.prototype.slice.call(arguments,1));else c=b.extend(!0,{},c),m?e.data("magnificPopup",c):e[0].magnificPopup=c,a.addGroup(e,c);return e};var v,w,y;b.magnificPopup.registerModule("inline",{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){a.types.push("inline");
C("Close.inline",function(){D()})},getInline:function(c,e){if(D(),c.src){var f=a.st.inline,h=b(c.src);if(h.length){var p=h[0].parentNode;p&&p.tagName&&(w||(v=f.hiddenClass,w=x(v),v="mfp-"+v),y=h.after(w).detach().removeClass(v));a.updateStatus("ready")}else a.updateStatus("error",f.tNotFound),h=b("<div>");return c.inlineElement=h}return a.updateStatus("ready"),a._parseMarkup(e,{},c),e}}});var F;b.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(c){return c.is("img")?
c:c.find("img")}},proto:{initZoom:function(){var c,e=a.st.zoom;if(e.enabled&&a.supportsTransition){var f=function(){a.content.css("visibility","visible")},h=function(B){B=B.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image");var I={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"};return I["-webkit-transition"]=I["-moz-transition"]=I["-o-transition"]=I.transition="all "+e.duration/1E3+"s "+e.easing,B.css(I),B},p,r,z=e.duration;C("BuildControls.zoom",
function(){if(a._allowZoom()){if(clearTimeout(p),a.content.css("visibility","hidden"),!(c=a._getItemToZoom()))return void f();(r=h(c)).css(a._getOffset());a.wrap.append(r);p=setTimeout(function(){r.css(a._getOffset(!0));p=setTimeout(function(){f();setTimeout(function(){r.remove();c=r=null;u("ZoomAnimationEnded")},16)},z)},16)}});C("BeforeClose.zoom",function(){if(a._allowZoom()){if(clearTimeout(p),a.st.removalDelay=z,!c){if(!(c=a._getItemToZoom()))return;r=h(c)}r.css(a._getOffset(!0));a.wrap.append(r);
a.content.css("visibility","hidden");setTimeout(function(){r.css(a._getOffset())},16)}});C("Close.zoom",function(){a._allowZoom()&&(f(),r&&r.remove(),c=null)})}},_allowZoom:function(){return"image"===a.currItem.type},_getItemToZoom:function(){return!!a.currItem.hasSize&&a.currItem.img},_getOffset:function(c){var e;c=(e=c?a.currItem.img:a.st.zoom.opener(a.currItem.el||a.currItem)).offset();var f=parseInt(e.css("padding-top"),10),h=parseInt(e.css("padding-bottom"),10);c.top-=b(window).scrollTop()-f;
e={width:e.width(),height:(m?e.innerHeight():e[0].offsetHeight)-h-f};return void 0===F&&(F=void 0!==document.createElement("p").style.MozTransform),F?e["-moz-transform"]=e.transform="translate("+c.left+"px,"+c.top+"px)":(e.left=c.left,e.top=c.top),e}}});H()});
(function(b){b(document).ready(function(){function A(d){var g=b(".summary.entry-summary > .cart"),l=b(".devvn_prod_variable .cart",d);b("select, input, textarea",g).each(function(){var k=b(this).attr("name"),q=b(this).val();b('[name="'+k+'"]',l).val(q)});l.trigger("check_variations");x(d)}function C(d){var g=b(".summary.entry-summary > .cart"),l=b(".devvn_prod_variable .cart",d);b("select, input, textarea",l).each(function(){var k=b(this).attr("name"),q=b(this).val();b('[name="'+k+'"]',g).val(q)});
g.trigger("check_variations");x(d)}function x(d){var g=b(".devvn_prod_variable .cart",d).data("product_variations"),l=b('.devvn_prod_variable input[name="quantity"]',d).val(),k=b('.devvn_prod_variable input[name="variation_id"]',d).val(),q=total=ship=0;b("#enable_ship",d).val()&&0<b(".popup_quickbuy_shipping_calc",d).length&&0<b('.popup_quickbuy_shipping_calc input[name="shipping_method[0]"]',d).length&&(ship=parseInt(b('.popup_quickbuy_shipping_calc input[name="shipping_method[0]"]:checked',d).data("cost")),
ship||1!=b('.popup_quickbuy_shipping_calc input[name="shipping_method[0]"]',d).length||(ship=parseInt(b('.popup_quickbuy_shipping_calc input[name="shipping_method[0]"]',d).data("cost"))));g?b(g).each(function(n,m){m.variation_id==k&&m.variation_is_active&&m.variation_is_visible&&(q=m.display_price)}):q=b(".devvn_prod_variable",d).data("simpleprice");g=parseFloat(b(".coupon_amout_val",d).val())||0;total=q*l+ship-g;b(".popup_quickbuy_total_calc",d).html(u(total.toFixed(0),0,"",".")+" "+devvn_quickbuy_array.currency_format);
b("#order_total",d).val(total)}function u(d,g,l,k){g=devvn_quickbuy_array.num_decimals;l=devvn_quickbuy_array.price_decimal;k=devvn_quickbuy_array.price_thousand;d=(d+"").replace(/[^0-9+\-Ee.]/g,"");var q;d=isFinite(+d)?+d:0;g=isFinite(+g)?Math.abs(g):0;k=void 0===k?",":k;l=void 0===l?".":l;var n="";return 3<(n=(g?(q=Math.pow(10,g),""+Math.round(d*q)/q):""+Math.round(d)).split("."))[0].length&&(n[0]=n[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,k)),(n[1]||"").length<g&&(n[1]=n[1]||"",n[1]+=Array(g-n[1].length+
1).join("0")),n.join(l)}function G(){0<b("body .devvn_prod_variable").length&&0==b("body .devvn_prod_variable .quantity.buttons_added .screen-reader-text").length&&b("body .devvn_prod_variable .quantity.buttons_added").append('<label class="screen-reader-text">'+devvn_quickbuy_array.qty_text+"</label>");b("body .devvn-popup-quickbuy").each(function(){var d=b(this),g=b(".devvn_cusstom_info",d);g.validate({rules:{"customer-name":{required:!0,maxlength:100},"customer-phone":{required:{depends:function(){return b(this).val(b.trim(b(this).val())),
!0}},vietnamphone:!0},"customer-valid-phone":{required:{depends:function(){return b(this).val(b.trim(b(this).val())),!0}},vietnamphone:!0},"customer-quan":{required:function(m){return 1==b("#require_district").val()}},"customer-xa":{required:function(m){return 1==b("#require_village").val()}},"customer-address":{required:function(m){return 1==b("#require_address").val()}},"customer-email":{required:function(m){return 1==b(m).data("required")},customemail:!0}},messages:{"customer-name":devvn_quickbuy_array.name_text,
"customer-phone":devvn_quickbuy_array.phone_text,"customer-valid-phone":{required:devvn_quickbuy_array.valid_phone_text,equalTo:devvn_quickbuy_array.valid_phone_text_equalto},"customer-email":devvn_quickbuy_array.email_text,"customer-quan":devvn_quickbuy_array.quan_text,"customer-xa":devvn_quickbuy_array.xa_text,"customer-address":devvn_quickbuy_array.address_text},errorLabelContainer:b(".devvn_quickbuy_mess",g)});var l=b("#enable_ship",d).val()||0;if(0<b("#devvn_city",d).length){var k=!1,q=b("#prod_nonce",
d).val(),n=0;0<b('button.single_add_to_cart_button[name="add-to-cart"]',d).length&&(n=parseInt(b('button.single_add_to_cart_button[name="add-to-cart"]',d).val()));b("#devvn_city",d).on("change",function(m){if((m=(m=m.val)||b("#devvn_city option:selected",d).val())&&!k){var t=b(".devvn_prod_variable .cart",d).serialize();b.ajax({type:"post",dataType:"json",url:devvn_quickbuy_array.ajaxurl,data:{action:"quickbuy_load_diagioihanhchinh",matp:m,getvalue:1,product_info:t,nonce:q,prod_id:n},context:this,
beforeSend:function(){b(".popup-customer-info",d).addClass("popup_loading");k=!0},success:function(v){if(b("#devvn_district",d).html(""),b("#devvn_ward",d).html('<option value="">X\u00e3/ph\u01b0\u1eddng</option>'),v.success){var w=v.data.list_district,y=new Option("Qu\u1eadn/huy\u1ec7n","");b("#devvn_district",d).append(y);b.each(w,function(F,c){var e=new Option(c.name,c.maqh);b("#devvn_district",d).append(e)});l&&v.data.shipping&&b(".popup_quickbuy_shipping_calc",d).html(v.data.shipping)}k=!1;b(".popup-customer-info",
d).removeClass("popup_loading");x(d)}})}});0<b("#devvn_district",d).length&&b("#devvn_district",d).on("change",function(m){m=(m=m.val)||b("#devvn_district option:selected",d).val();var t=b("#devvn_city option:selected",d).val();if(m&&!k){var v=b(".devvn_prod_variable .cart",d).serialize();b.ajax({type:"post",dataType:"json",url:devvn_quickbuy_array.ajaxurl,data:{action:"quickbuy_load_diagioihanhchinh",matp:t,maqh:m,getvalue:2,product_info:v,nonce:q,prod_id:n},context:this,beforeSend:function(){b(".popup-customer-info",
d).addClass("popup_loading");k=!0},success:function(w){if(b("#devvn_ward",d).html(""),w.success){var y=w.data.list_district,F=new Option("X\u00e3/ph\u01b0\u1eddng","");b("#devvn_ward",d).append(F);b.each(y,function(c,e){var f=new Option(e.name,e.xaid);b("#devvn_ward",d).append(f)});l&&w.data.shipping&&b(".popup_quickbuy_shipping_calc",d).html(w.data.shipping)}k=!1;b(".popup-customer-info",d).removeClass("popup_loading");x(d)}})}});b(window).on("load",function(){b("#devvn_city",d).trigger("change")});
b(".devvn_prod_variable .cart",d).on("change",function(m){if(l){m=b("#devvn_district option:selected",d).val();var t=b("#devvn_city option:selected",d).val(),v=b(".devvn_prod_variable .cart",d).serialize();b.ajax({type:"post",dataType:"json",url:devvn_quickbuy_array.ajaxurl,data:{action:"quickbuy_load_diagioihanhchinh",matp:t,maqh:m,getvalue:1,product_info:v,nonce:q,prod_id:n},context:this,beforeSend:function(){b(".popup-customer-info",d).addClass("popup_loading")},success:function(w){w.success&&
l&&w.data.shipping&&b(".popup_quickbuy_shipping_calc",d).html(w.data.shipping);b(".popup-customer-info",d).removeClass("popup_loading");x(d)}})}})}b("#devvn_cusstom_info, .devvn_prod_variable .cart, input.variation_id",d).on("change",function(){x(d)});0<b(".devvn-form-quickbuy-inline").length&&x(d)})}function H(d){var g=D.get("quickbuy_infor");g&&(g=b.parseJSON(g),b('input[name="customer-name"]',d).val()||b('input[name="customer-name"]',d).val(g.name),b('input[name="customer-phone"]',d).val()||b('input[name="customer-phone"]',
d).val(g.phone),b('input[name="customer-email"]',d).val()||b('input[name="customer-email"]',d).val(g.email),b('input[name="customer-address"]',d).val()||b('input[name="customer-address"]',d).val(g.address))}var D={set:function(d,g,l){var k,q,n,m;var t=l?((n=new Date).setTime(n.getTime()+864E5*l),"; expires="+n.toGMTString()):"";1===(m=location.host).split(".").length?document.cookie=d+"="+g+t+"; path=/":((q=m.split(".")).shift(),k="."+q.join("."),document.cookie=d+"="+g+t+"; path=/; domain="+k,null!=
D.get(d)&&D.get(d)==g||(k="."+m,document.cookie=d+"="+g+t+"; path=/; domain="+k))},get:function(d){d+="=";for(var g=document.cookie.split(";"),l=0;l<g.length;l++){for(var k=g[l];" "==k.charAt(0);)k=k.substring(1,k.length);if(0==k.indexOf(d))return k.substring(d.length,k.length)}return null},erase:function(d){D.set(d,"",-1)}};b("body").on("click",".devvn_buy_now",function(){var d=b(this).data("id"),g=b("#popup_content_"+d);b(this).hasClass("devvn_buy_now_ajax")?b.ajax({type:"post",dataType:"html",
url:devvn_quickbuy_array.ajaxurl,data:{action:"devvn_form_quickbuy",prodid:d},context:this,beforeSend:function(){b(this).addClass("popup_loading")},success:function(l){b.magnificPopup.open({items:{src:l,type:"inline"},showCloseBtn:!1,closeOnBgClick:!1,mainClass:"le-van-toan",callbacks:{open:function(){var k=b("#popup_content_"+d);G();b("#devvn_city",k).trigger("change");x(k);H(k);"undefined"!=typeof wc_add_to_cart_variation_params&&b(".variations_form").each(function(){b(this).wc_variation_form();
WGR_after_load_devvn_quick_cart()});A(k)},close:function(){C(g)}}});b(this).removeClass("popup_loading")},error:function(l,k,q){b(this).removeClass("popup_loading")}}):b.magnificPopup.open({items:{src:"#popup_content_"+d,type:"inline"},showCloseBtn:!1,closeOnBgClick:!1,mainClass:"le-van-toan",callbacks:{open:function(){A(g);H(g);b("#enable_ship",g).val()&&0<b(".popup_quickbuy_shipping_calc",g).length&&0>=b('.popup_quickbuy_shipping_calc input[name="shipping_method[0]"]',g).length&&b("#devvn_city",
g).trigger("change");WGR_after_load_devvn_quick_cart()},close:function(){C(g)}}})});b(document).on("click",".devvn-popup-close",function(d){d.preventDefault();b.magnificPopup.close()});b.validator.addMethod("vietnamphone",function(d,g){return/^0+(\d{9,10})$/.test(d)},"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\u00f4ng \u0111\u00fang \u0111\u1ecbnh d\u1ea1ng.");b.validator.addMethod("customemail",function(d,g){return""==d||/^([a-zA-Z0-9_.+-])+@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(d)},"\u0110\u1ecbnh d\u1ea1ng email kh\u00f4ng \u0111\u00fang.");
G();var a=!1;b("body").on("click",".devvn-order-btn",function(){var d=b(this).closest(".devvn-popup-quickbuy"),g=b(".devvn_cusstom_info",d),l=b('.devvn_prod_variable .cart input[name="variation_id"]',d).val();if("string"==typeof l&&"0"!=l&&""!=l||void 0===l)if(0<b(".devvn_prod_variable .out-of-stock",d).length)alert(devvn_quickbuy_array.out_of_stock_mess);else{if(!g.valid())return;g=b("#prod_nonce",d).val();l=b("#prod_id",d).val();var k=b("#devvn_cusstom_info",d).serialize(),q=b(".devvn_prod_variable .cart",
d).serialize(),n={name:b('input[name="customer-name"]',d).val()||"",gender:b('input[name="customer-gender"]:checked',d).val()||"",phone:b('input[name="customer-phone"]',d).val()||"",email:b('input[name="customer-email"]',d).val()||"",address:b('input[name="customer-address"]',d).val()||""};a||b.ajax({type:"post",dataType:"json",url:devvn_quickbuy_array.ajaxurl,data:{action:"devvn_quickbuy",prod_id:l,customer_info:k,product_info:q,nonce:g},context:this,beforeSend:function(){a=!0;b(".devvn-order-btn",
d).addClass("loading")},success:function(m){console.log(m);m.success?(D.set("quickbuy_infor",JSON.stringify(n)),m.data.gotothankyou&&m.data.thankyou_link?window.location.href=m.data.thankyou_link:b(".devvn-popup-content",d).html(m.data.content)):alert(devvn_quickbuy_array.popup_error);a=!1;b(".devvn-order-btn",d).removeClass("loading")},error:function(m,t,v){console.log(m);console.log(t);console.log(v);alert(devvn_quickbuy_array.popup_error);a=!1;b(".devvn-order-btn",d).removeClass("loading")}})}else alert(wc_add_to_cart_variation_params.i18n_make_a_selection_text);
return!1});var E=!1;b("body").on("click",".apply_coupon",function(){var d=b(this).closest(".devvn-popup-quickbuy"),g=b(".customer_coupon_wrap",d),l=b(".customer_coupon_field_mess ",d),k=b(".quickbuy_coupon_mess_amout ",d),q=b(".quickbuy_coupon_mess",d),n=b(".coupon_amout_val",d),m=b(".quickbuy_coupon_amout",d),t=b(".customer-coupon",d).val(),v=b(".devvn_prod_variable .cart",d).serialize(),w=0;return 0<b('button.single_add_to_cart_button[name="add-to-cart"]',d).length&&(w=parseInt(b('button.single_add_to_cart_button[name="add-to-cart"]',
d).val())),E||b.ajax({type:"post",dataType:"json",url:devvn_quickbuy_array.ajaxurl,data:{action:"devvn_apply_coupon",prod_id:w,thisCoupon:t,product_info:v},context:this,beforeSend:function(){E=!0;g.addClass("popup_loading")},success:function(y){l.show();q.html("").show();y.success?(amout_coupon=y.data.total_discount,q.html(y.data.mess),n.val(amout_coupon),amout_coupon?(k.show(),m.html(u(amout_coupon.toFixed(0),0,"",".")+" "+devvn_quickbuy_array.currency_format)):k.hide()):q.html(y.data);x(d);setTimeout(function(){q.html("").hide()},
2E3);E=!1;g.removeClass("popup_loading")},error:function(y,F,c){E=!1;g.removeClass("popup_loading")}}),!1})})})(jQuery);var arr_selected_swatches={};function WGR_after_load_devvn_quick_cart(){setTimeout(function(){WGR_action_load_devvn_quick_cart()},600)}
function WGR_action_load_devvn_quick_cart(){var b=sessionStorage.getItem("arr-elected-swatches");if(null===b)return!1;b=JSON.parse(b);for(var A in b)jQuery('.devvn_prod_variable .ux-swatches[data-attribute_name="'+A+'"] .ux-swatch[data-value="'+b[A]+'"]').trigger("click")}sessionStorage.removeItem("arr-elected-swatches");
jQuery(".ux-swatches .ux-swatch").click(function(){var b=jQuery(this).parent(".ux-swatches").attr("data-attribute_name")||"",A=jQuery(this).attr("data-value")||"";arr_selected_swatches[b]=A;sessionStorage.setItem("arr-elected-swatches",JSON.stringify(arr_selected_swatches))});